
# 会话

## 会话管理概述

### 为什么需要会话

> HTTP是无状态协议

- 无状态就是不保存状态，即无状态协议 (`stateless`)，`HTTP` 协议自身不对请求和响应之间的通信状态进行保存，也就是说，在 `HTTP` 协议这个级别，协议对于发送请求或者响应都不作持久化处理;
- 简单理解，浏览器发送请求，服务器接收并相应，当时服务器不清楚这个请求来自于哪个浏览器，服务器没记录浏览器的特征(就是客户端的状态);

### 会话实现的手段

> `Cookie` 和 `Session` 配合解决

- `Cookie` 是在客户端保留少量数据的技术，主要通过响应头向客户端响应一些客户端要保留的信息;
- `Session` 是在服务端保留更多数据的技术，主要通过服务端 `HttpSession` 对象保存一些和客户端相关的信息;

## `Cookie`

`Cookie` 是一种客户端会话技术，`Cookie` 由服务端创建，它是服务器存放在浏览器的一小份数据，浏览器以后每次访问该服务器的时候都会将这份数据携带给服务器;

- 服务端创建 `Cookie`，将 `Cookie` 放入到响应对象中。`Tomcat` 容器将 `Cookie` 转化为 `set-cookie` 响应头，响应给客户端;
- 客户端在接收到 `set-cookie` 响应头时，在下次请求该服务的资源时，会以 `cookie` 请求头的形式携带之前接收到的 `Cookie` 信息;
- `Cookie` 是一种键值对格式的数据，从 `Tocmat8.5` 开始可以保存中文，但是不推荐;
- 由于 `Cookie` 是保存在客户端的数据，比较容易暴露，一般不存储一些敏感或者影响安全的数据;



## `Session`


